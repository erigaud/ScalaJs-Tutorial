![](data:image/jpeg;base64,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)
ScalaJs-Tutorial
---------
## Versions 

JDK 1.8
sbt 1.3
Scala 2.12

## Mettre en place le projet 

- Créer un nouveau projet Scala avec sbt 
- Créer projet/plugins.sbt et y ajouter la ligne 

``` addSbtPlugin("org.scala-js" % "sbt-scalajs" % "0.6.28") ```

- Ajouter code suivant dans build.sbt 

``` sbt
name := "ScalaJsApp"

version := "0.1"

scalaVersion := "2.12.4"

enablePlugins(ScalaJSPlugin)
scalaJSUseMainModuleInitializer := true   // application ayant une méthode main
```
- Créer un premier Objet Scala, dans un package "tutorial" : src/main/scala/tutorial/Hello.scala


``` scala
package tutorial

object Hello1 {
  def main(args: Array[String]): Unit = {
    println("Hello, world")
  }
}
```
- Ajouter de nouvelles dépendances dans build.sbt, pour pouvoir travailler avec le DOM et les ScalaTags

``` sbt
libraryDependencies += "org.scala-js" %%% "scalajs-dom" % "0.9.7"
libraryDependencies += "com.lihaoyi" %%% "scalatags" % "0.6.7"
```
On utisera les ScalaTags dans la partie [Single Page Application](#Single-Page-Application)

- Pour que les modifications soient prises en compte, il faut utiliser la commande reload dans le shell sbt

``` sbt> reload```

> **Remarque** Pour lancer le shell sbt, il suffit de lancer la commande `sbt` dans un terminal. Sinon, IntelliJ propose directement un shell sbt avec le plugin Scala. 

- Executer le code pour vérifier l'affichage du "Hello World" 
``` sbt> run```

- Créer un dossier "views" à la racine du projet, pour y mettre les fichiers HTML. On peut y mettre un premier fichier "hello.html", avec le code suivant : 
``` html 
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Scala.js Hello, World</title>
</head>
<body>
<!-- include Scala.js compiled code -->
<script type="text/javascript" src="../target/scala-2.12/scalajsapp-fastopt.js"></script>
</body>
</html>
```

- Modifier l'object Hello.scala 
```scala
package tutorial
import org.scalajs.dom
import dom.document

object Hello {
  def main(args: Array[String]): Unit = {
      val parNode = document.createElement("p")
      val textNode = document.createTextNode("Hello, world")
      parNode.appendChild(textNode)
      document.body.appendChild(parNode)

  }
}
```

- Generer le code JS avec ```sbt> fastOptJS```

- Lancer "hello.html" dans le navigateur et observer "Hello, world" s'afficher ! 

## Single Page Application 

- On modifie légèrement le body de views/hello.html 

``` html
<body>
    <div id="root"></div>
    <!-- include Scala.js compiled code -->
    <script type="text/javascript" src="../target/scala-2.12/scalajsapp-jsdeps.js"></script>
    <script type="text/javascript" src="../target/scala-2.12/scalajsapp-fastopt.js"></script>
</body>
```

- On modifie hello.scala : on utilise enfin les Scalatags (qu'on avait dans notre build.sbt)
``` scala 
import scalatags.JsDom.all._
```

- On remplace la fonction main : 

``` scala
  def main(args: Array[String]): Unit = {
    val btn = button(
      "Click me",
      onclick := { () =>
        dom.window.alert("Hello, world")
      })

    // intentional overkill to demonstrate scalatags
    val content =
      div(cls := "foo",
        div(cls := "bar",
          h2("Hello"),
          btn
        )
      )

    val root = dom.document.getElementById("root")
    root.innerHTML = ""
    root.appendChild(content.render)

  }
  ```
  On peut donc créer des éléments html facilement, par exemple : 
  ``` html 
  
<div class="foo">
    <h1 style="margin: 15px"> Title </h1>
    <p class="bar"> Hello ! </p>
</div>

  ``` 
  
  
  devient 
  ```scala 
  div(cls := "foo",
    h1(style:="margin:15px", "Title"),
    p(cls := "bar", "Hello !")
 )
 ```

- On peut lancer à nouveau `sbt> fastOptJS` et lancer hello.html dans le navigateur !
  
  
